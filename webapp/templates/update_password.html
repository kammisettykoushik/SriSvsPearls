{% extends 'base.html' %}

       {% block content %}
        <!-- Header-->
       {% include 'mainheader.html' %}

        <header class="py-1" style="background-color: #e0a165;font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;">
    <div class="container px-4  ">
        <div class="text-center text-white">
            <h1 style="color:white;font-size: 30px;" ; class="display-4 fw-bolder">Change Password</h1>
        </div>
    </div>
</header>



<div class="container my-5" style="  background-color: rgba(255, 255, 255, 0.9);
border: 1px solid #ddd;
box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
background-image: url('https://img.freepik.com/free-photo/gold-jewellery-table-with-other-gold-jewellery_1340-42836.jpg');
background-size: cover;
background-position: center;
padding: 50px;
border-radius: 10px;
position: relative;
overflow: hidden;
font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;">
    <div class="row justify-content-center">
        <div class="col-12 col-md-6">
            <form method="POST" action="{% url 'update_password' %}" class="p-4 rounded position-relative">

                <div class="position-absolute w-100 h-100" style="
                    top: 0;
                    left: 0;
                    /* background-color: rgba(0, 0, 0, 0.5); Semi-transparent dark overlay  */
                    background-color: white;
                    border-radius: 10px;
                    z-index: 0;">
                </div>

                <!-- Form Content -->
                <div style="position: relative; z-index: 1;">
                    {% csrf_token %}
                    <h2 class="text-center mb-4" style="color:white;font-size:25px;background-color: #e0a165;width:111%;margin-bottom: 30px;margin-top: -24px;
    margin-left: -24px;height: 48px;padding-top: 10px;"><strong>PASSWORD</strong></h2>

                    <div class="input-group mb-4  mb-3 position-relative">
                    <span class="input-group-text border-0 bg-white" style="padding-right: 10px;">
                        <i class="fa fa-lock" style="color: #6c757d;"></i>
                    </span>
                        {{ form.new_password1 }}
                        <span class="position-absolute"
                            style="right: 1%; top: 50%; transform: translateY(-50%); cursor: pointer;"
                            onclick="togglePasswordVisibility('id_new_password1', 'eyeIcon1')">
                            <i id="eyeIcon1" class="fas fa-eye"></i>
                        </span>
                    </div>
                    {{ form.new_password1.help_text|safe }}
                    {% for error in form.new_password1.errors %}
                <div class="alert alert-danger">{{ error }}</div>
            {% endfor %}

                    <div class="input-group mb-4 mb-3 position-relative">
                    <span class="input-group-text border-0 bg-white" style="padding-right: 10px;">
                        <i class="fa fa-lock" style="color: #6c757d;"></i>
                    </span>
                        {{ form.new_password2 }}
                        <span class="position-absolute"
                            style="right: 1%; top: 50%; transform: translateY(-50%); cursor: pointer;"
                            onclick="togglePasswordVisibility('id_new_password2', 'eyeIcon2')">
                            <i id="eyeIcon2" class="fas fa-eye"></i>
                        </span>
                    </div>
                    {{ form.new_password2.help_text|safe }}
                    {% for error in form.new_password2.errors %}
                <div class="alert alert-danger">{{ error }}</div>
            {% endfor %}

                    <div class="mt-4" style="margin-left: 50px;">
                        <button type="submit" class="btn w-50"
                            style="background-color:#e0a165; color: white;">Update</button>
                    </div>
                </div>
            </form>

        </div>
    </div>
</div>

<script>
    function togglePasswordVisibility(inputId, iconId) {
        const input = document.getElementById(inputId);
        const icon = document.getElementById(iconId);

        if (input.type === "password") {
            input.type = "text";
            icon.className = "fas fa-eye";
        } else {
            input.type = "password";
            icon.className = "fas fa-eye-slash";
        }
    }
</script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">


     {% endblock %}